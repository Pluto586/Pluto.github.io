(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{555:function(t,o,s){"use strict";s.r(o);var p=s(5),n=Object(p.a)({},(function(){var t=this,o=t.$createElement,s=t._self._c||o;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"title"}),s("p",[t._v("解决在Vue中使用axios POST请求变成OPTIONS的问题")])]),t._v(" "),s("h1",{attrs:{id:"解决在vue中使用axios-post请求变成options的问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#解决在vue中使用axios-post请求变成options的问题"}},[t._v("#")]),t._v(" 解决在Vue中使用axios POST请求变成OPTIONS的问题")]),t._v(" "),s("p",[s("strong",[t._v("axios发起请求，为什么先发送options请求，再发送get/post请求")])]),t._v(" "),s("p",[s("strong",[t._v("1引起原因")])]),t._v(" "),s("p",[t._v("1，跨域；")]),t._v(" "),s("p",[t._v("2，请求头非默认情况。")]),t._v(" "),s("p",[s("strong",[t._v("2默认请求头如下")])]),t._v(" "),s("blockquote",[s("p",[t._v("Accept\nAccept-Language\nContent-Language\nLast-Event-ID")])]),t._v(" "),s("p",[t._v("Content-Type：只限于三个值application/x-www-form-urlencoded、multipart/form-data、text/plain")]),t._v(" "),s("p",[t._v("通常情况下，会将content-Type:application/json;")]),t._v(" "),s("p",[t._v("axios中content-Type默认是application/json;所以在使用axios跨域发请求时，会触发options预请求。")]),t._v(" "),s("p",[s("strong",[t._v("3.解决方案")])]),t._v(" "),s("p",[t._v("1.可以通过跟后端协调，将所有options放行，此时便能通过post/get请求访问到数据。")]),t._v(" "),s("p",[t._v("2.引入qs模块处理数据")]),t._v(" "),s("p",[t._v("qs.parse()将URL解析成对象的形式")]),t._v(" "),s("p",[t._v("qs.stringify()将对象 序列化成URL的形式，以&进行拼接")]),t._v(" "),s("p",[t._v("1.安装qs")]),t._v(" "),s("blockquote",[s("p",[t._v("npm install qs")])]),t._v(" "),s("p",[t._v("2.在main.js引入qs")]),t._v(" "),s("blockquote",[s("p",[t._v("import qs from 'qs';")])])])}),[],!1,null,null,null);o.default=n.exports}}]);